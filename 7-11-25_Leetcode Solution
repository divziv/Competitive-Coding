Problem Link:
https://leetcode.com/problems/maximize-the-minimum-powered-city/?envType=daily-question&envId=2025-11-07

Solution:
class Solution {
 public:
  long long maxPower(vector<int>& stations, int radius, int k) {
    long l = ranges::min(stations);
    long r = accumulate(stations.begin(), stations.end(), 0L) + k + 1;

    while(l < r) 
    {
      const long m = (l + r) / 2;
      if(check(stations, radius, k, m))
        l = m + 1;
      else
        r = m;
    }

    return l - 1;
  }

 private:
  bool check(vector<int> stations, int radius, int a, long minPower) {
    const int n = stations.size();
    long p = accumulate(stations.begin(), stations.begin() + radius, 0L);

    for(int i = 0; i < n; ++i) 
    {
      if(i + radius < n)
        p += stations[i + radius];
      if(p < minPower) 
      {
        const long r = minPower - p;
        if(r > a)
          return false;
        stations[min(n - 1, i + radius)] += r;
        a -= r;
        p += r;
      }
      if(i - radius >= 0)
        p -= stations[i - radius];
    }

    return true;
  }
};
